
<html>

    <head>
        <link rel='stylesheet' href='https://unpkg.com/leaflet@1.4.0/dist/leaflet.css'/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="canonical" href="https://getbootstrap.com/docs/4.4/examples/album/">
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- Bootstrap core CSS -->
<link href="/docs/4.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Dosis:700" rel="stylesheet">
        <script src="05-20-2020.json"></script>
        <script src="canadatseries.json"></script>
        <link rel='stylesheet' href='https://unpkg.com/leaflet@1.4.0/dist/leaflet.css'/>
        <script src='https://unpkg.com/leaflet@1.4.0/dist/leaflet.js'></script>
        <script src='cloropleth.geojson'></script>
        <script src='cloroplethconfirm.geojson'></script>
        <script src='cloroplethrecover.geojson'></script>
        <link rel="stylesheet" href="page3.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    </head>
   
    
    <body>
        
        <header>
  <div class="collapse bg-light" id="navbarHeader">
    <div class="container">
      <div class="row">
        <div class="col-sm-10 col-md-7 py-4">
          <h4 class="text-muted">Our Dashboard</h4>
          <p class="text-muted">This website is dedicated to informing the public about the current COVID-19 situation around the world and in Canada through  continuous updates on cases, deaths, and recoveries.</p>
        </div>
        <div class="col-sm-4 offset-md-1 py-4">
          <h4 class="text-muted">Pages</h4>
          <ul class="list-unstyled">
            <li><a href="index.html" class="text-muted">Global Data</a></li>
            <li><a href="about.html" class="text-muted">About</a></li>
            <li><a href="page3.html" class="text-muted">Canadian Data</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container d-flex justify-content-between">
      <a href="index.html" class="navbar-brand d-flex align-items-center">
       
          <div id="title"><img src="virus2.png"><strong>COVID-19 Dashboard</strong></div>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</header>
        
        <div id="titlecontain"><h2 id=ttitle>COVID-19 Around In Canada (May 20, 2020)</h2></div>
        <div id="caption"><h5 id='captiontext'>For the past few months, COVID-19 has taken Canada by storm.Canada's fight against the virus has been relentless, however, our efforts to counter the virus are not yet finished. It is crucial that all of its data relating its journey around the Country is tracked using graphs, maps, and facts. Below you will find "at-a-glance" data for COVID-19 in Canada. </h5></div>
        <div class="row">
  <div class="side">
      <div class="w3-panel w3-card"><p id="card1">Canadian Deaths</p><h2 id=tcard1>6,250</h2><br></div>
  </div>
  <div class="main">
    <div class="middle">
      <div class="w3-panel w3-card"><p id="card2">Canadian Recoveries</p><h2 id=tcard2>42,594</h2><br></div>
      </div>
    <div class="right">
      <div class="w3-panel w3-card"><p id="card3">Canadian Confirmed</p><h2 id=tcard3>82,480</h2><br></div>
      </div> 
            </div>
            
        </div>
        <div id="titlecontain2"><h2 id=ttitle2>Mapped Data</h2></div>
        <div id="caption"><h5 id='captiontext'>Here, you can browse through mapped data for hundreds of countries for their deaths, total confirmed cases, and even their recoveries using the control panel</h5></div>
        
        <div id="mapcontain">
            
        <div id='map' class="w3-panel w3-card"></div>
            <div id="control" class="w3-panel w3-card">
            
                <h3 id="ctrltitle" >COVID-19 Map</h3>
                <div class="w3-panel w3-card"><h2 id="ctrltext">Controls: Click any of the buttons below to switch the graph's data</h2>
                    <div id="btns">
                   
                        <button onclick="deaths()" id="mapped" class="ctrl">Deaths</button> 
                        <button onclick="draw()" id="active" class="ctrl">Confirmed</button> 
                        <button onclick="recover()" id="recover" class="ctrl">Recovered</button></div></div>
                
                <div><h3 id="wleaders">The World's Leaders</h3></div>
        <div class="row2">
          <div class="side2">
              <div class="w3-panel w3-card"><p id="stat1">Deaths</p><h2 id=wcard1></h2><br></div>
          </div>
          <div class="main2">
            <div class="middle2">
              <div class="w3-panel w3-card"><p id="stat2">Recoveries</p><h2 id=wcard2></h2><br></div>
              </div>
            <div class="right2">
              <div class="w3-panel w3-card"><p id="stat3">Confirmed</p><h2 id=wcard3></h2><br></div>
              </div>  

          </div>
        </div>
            
            </div>
            
        </div>
    
    
        
        <div id="canvascontain2"><canvas id="mycanvas2" width="750" height="500" style="border:0.5px solid lightgray; padding-left: 15px; background-color: #08283f"></canvas></div>
    </body> 

    <script>
        
        // GEOJSON COLOR RAMP
        function getColor(c) {
           if (c > 40000) {
              return '#152421'; 
           } else if (c == 25197){
              return '#243d39';
           } else if (c == 6735){
              return '#335751';
           } else if (c == 2467){
              return '#416e67';
           } else if (c == 620) {
              return '#4d827a';
           } else if (c == 290) {
              return '#60a197';
           } else if (c == 11) {
              return '#73bdb2' 
           }
            else {
                return '#89ded1'
            }
        }
        function getColor2(d) {
           if (d > 3500) {
              return '#b07002'; 
           } else if (d == 2079){
              return '#cf8402';
           } else if (d == 149) {
              return '#de8e02';
           } else if (d == 128) {
              return '#ffa200';
           } else if (d == 7) {
              return '#f2b64e' 
           }
            else {
                return '#f5c778'
            }
        }
         
         function getColor3(r) {
           if (r > 18000) {
              return '#6b0c42'; 
           } else if (r == 12822){
              return '#b8046b';
           } else if (r == 5637){
              return '#f549ac';
           } else if (r == 2005){
              return '#f567b9';
           } else if (r == 494) {
              return '#f587c7';
           } else if (r == 260) {
              return '#f59fd1';
           } else if (r == 11) {
              return '#f5b5da' 
           }
            else {
                return '#edcee0'
            }
        }
        
        // GEOJSON STYLE
        function style(feature) {
        return {
                fillColor: getColor(feature.properties.confirmed),
                weight: 2,
                opacity: 1,
                color: 'darkgray',
                dashArray: '3',
                fillOpacity: 0.7,
            };
        }
        
        function style2(features) {
        return {
                fillColor: getColor2(features.properties.deaths),
                weight: 2,
                opacity: 1,
                color: 'darkgray',
                dashArray: '3',
                fillOpacity: 0.7,
            };
        }
        
        function style3(feature2) {
        return {
                fillColor: getColor3(feature2.properties.recover),
                weight: 2,
                opacity: 1,
                color: 'darkgray',
                dashArray: '3',
                fillOpacity: 0.7,
            };
        }
        
        // Set up the world map
        map = new L.Map('map');
        var cartocdn = 'https://cartocdn_{s}.global.ssl.fastly.net/base-midnight/{z}/{x}/{y}.png';
        cartoAttrib = 'Carto geodatabase is good for this application';
        carto = new L.TileLayer(cartocdn);
        map.setView([65, -100],3.3); // centered on London lat, long
        map.addLayer(carto);
        layergroup = L.layerGroup().addTo(map);
        
         
        
        function draw() {
            layergroup.clearLayers();
            L.geoJson(provs2, {style: style, onEachFeature: function (feature, layer) {
            layer.bindPopup('<h5>Confirmed</h5><h4>'+feature.properties.confirmed+'</h4>');
            }}).addTo(layergroup);   
        } 
        
        function deaths() {
            layergroup.clearLayers();
            L.geoJson(provs, {style: style2, onEachFeature: function (features, layer) {
            layer.bindPopup('<h5>Deaths</h5><h1>'+features.properties.deaths+'</h4>');
            }}).addTo(layergroup);
        }
        
        function recover() {
            layergroup.clearLayers();
            L.geoJson(provs3, {style: style3, onEachFeature: function (feature2, layer) {
            layer.bindPopup('<h5>Recoveries</h5><h4>'+feature2.properties.recover+'</h4>');
            }}).addTo(layergroup);
        }
        
        
        
            
        var c = document.getElementById("mycanvas2");
        var ctx = c.getContext('2d');
        var y = 10;
        for (province=0; province<data.length; province++){
            if (data[province]["Country_Region"] == "Canada") {
                ctx.fillStyle = "red";
                ctx.fillRect(10,y, data[province]["Confirmed"]/38,50);
                ctx.fillStyle = "black";
                ctx.font = "10pt Times";
                ctx.fillText(data[province]['Province_State'] + " " + data[province]["Confirmed"], 560,y+28);
                var y = y+60
            
            }
        }
        
        
        
        
       
        
        
        

        
        
            
        
  
    

        

        
    </script>

</html>
