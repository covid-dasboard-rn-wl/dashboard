
<html>

    <head>
        <link rel='stylesheet' href='https://unpkg.com/leaflet@1.4.0/dist/leaflet.css'/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
           <link rel='stylesheet' href='https://unpkg.com/leaflet@1.4.0/dist/leaflet.css'/>
        <script src='https://unpkg.com/leaflet@1.4.0/dist/leaflet.js'></script>
        <script src='cloropleth.geojson'></script>
        <link rel="canonical" href="https://getbootstrap.com/docs/4.4/examples/album/">
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- Bootstrap core CSS -->
<link href="/docs/4.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Dosis:700" rel="stylesheet">
        <script src='https://unpkg.com/leaflet@1.4.0/dist/leaflet.js'></script>
        <script src="05-20-2020.json"></script>
        <script src="canadatseries.json"></script>
        <link rel="stylesheet" href="page3.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    </head>
   
    
    <body>
   
        <header>
  <div class="collapse bg-light" id="navbarHeader">
    <div class="container">
      <div class="row">
        <div class="col-sm-10 col-md-7 py-4">
          <h4 class="text-muted">Our Dashboard</h4>
          <p class="text-muted">This website is dedicated to informing the public about the current COVID-19 situation around the world and in Canada through  continuous updates on cases, deaths, and recoveries.</p>
        </div>
        <div class="col-sm-4 offset-md-1 py-4">
          <h4 class="text-muted">Pages</h4>
          <ul class="list-unstyled">
            <li><a href="index.html" class="text-muted">Global Data</a></li>
            <li><a href="about.html" class="text-muted">About</a></li>
            <li><a href="page3.html" class="text-muted">Canadian Data</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container d-flex justify-content-between">
      <a href="index.html" class="navbar-brand d-flex align-items-center">
       
          <div id="title"><img src="virus2.png"><strong>COVID-19 Dashboard</strong></div>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</header>
        
        
           <div id="titlecontain"><h2 id=ttitle>COVID-19 Around In Canada (May 20, 2020)</h2></div>
        <div id="caption"><h5 id='captiontext'>For the past few months, COVID-19 has taken Canada by storm.Canada's fight against the virus has been relentless, however, our efforts to counter the virus are not yet finished. It is crucial that all of its data relating its journey around the Country is tracked using graphs, maps, and facts. Below you will find "at-a-glance" data for COVID-19 in Canada. </h5></div>
        <div class="row">
  <div class="side">
      <div class="w3-panel w3-card"><p id="card1">Canadian Deaths</p><h2 id=tcard1>6,250</h2><br></div>
  </div>
  <div class="main">
    <div class="middle">
      <div class="w3-panel w3-card"><p id="card2">Canadian Recoveries</p><h2 id=tcard2>42,594</h2><br></div>
      </div>
    <div class="right">
      <div class="w3-panel w3-card"><p id="card3">Canadian Confirmed</p><h2 id=tcard3>82,480</h2><br></div>
      </div>  
    
        

        
        
         
</div>
        </div>
        <div id="titlecontain2"><h2 id=ttitle2>Mapped Data</h2></div>
        <div id="caption"><h5 id='captiontext'>Here, you can browse through mapped data for hundreds of countries for their deaths, total confirmed cases, and even their recoveries using the control panel</h5></div>
        
        <div id="mapcontain">
            
           
            <div id='map' class="w3-panel w3-card"></div>
            
            <div id="control" class="w3-panel w3-card">
            <h3 id="ctrltitle" >COVID-19 Map</h3>
                <div class="w3-panel w3-card"><h2 id="ctrltext">Controls: Click any of the buttons below to switch the graph's data</h2>
                    <div id="btns">
                   
                        <!--<button onclick="draw()" id="mapped" class="ctrl">Deaths</button> 
                        <button onclick="active()" id="active" class="ctrl">Confirmed</button> 
                        <button onclick="recover()" id="recover" class="ctrl">Recovered</button></div></div> -->
                
                <div><h3 id="wleaders">The World's Leaders</h3></div>
        <div class="row2">
          <div class="side2">
              <div class="w3-panel w3-card"><p id="stat1">Deaths</p><h2 id=wcard1></h2><br></div>
          </div>
          <div class="main2">
            <div class="middle2">
              <div class="w3-panel w3-card"><p id="stat2">Recoveries</p><h2 id=wcard2></h2><br></div>
              </div>
            <div class="right2">
              <div class="w3-panel w3-card"><p id="stat3">Confirmed</p><h2 id=wcard3></h2><br></div>
              </div>  

          </div>
        </div>
                <div><h3 id="wleaders">Search This Map</h3></div>
                <div class="w3-panel w3-card"><h2 id="searchtext">Here, you can search this map by entering any region into the search bar, selecting the data you would like to view, and finally by clicking submit (United States is US).<br><br>Search Bar: County, Province/State, Country. E.g. Ontario, Canada or New York City, New York, US </h2>
                <div id=sbarcontain><input type="text" id="mysearch" placeholder="County, Province/State, Country..."><button onclick="selectsearch()" id="selectbtn">Submit</button></div>
                
                <div id="optcontain">
                <select id="searchlist">
                <option value="confirm">Confirmed</option>
                <option value="recovered">Recoveries</option>
                <option value="death1">Deaths</option>
                    </select></div></div>
                
                 <div id="canvascontain"><canvas id="mycanvas" width="500" height="50" style="border:0.5px solid lightgray; padding-left: 15px; background-color: #08283f"></canvas></div>
            </div>
        </div>
        
        
        
        
        <div id="canvascontain2"><canvas id="mycanvas2" width="750" height="500" style="border:0.5px solid lightgray; padding-left: 15px; background-color: #08283f"></canvas></div>
        
           
        <div id='map' style='width:100%; height:500'></div>      
 <style>
    
        .leaflet-popup-tip {
            background-color: navy;
            border: 1px solid black;
    
        }
    
    </style>
        
    <script>
        
        
        
         function selectsearch() {
            var newstring = ""
            var c = document.getElementById("mycanvas");
            var ctx = c.getContext('2d');
            var myinput = document.getElementById("mysearch").value;
            var option = document.getElementById("searchlist").value;
            for (country=0; country < data.length; country++) {
                if (myinput == data[country].Combined_Key){
                    if (option == "recovered") {
                        ctx.clearRect(0,0,1000,200);
                        ctx.fillStyle = "#c985ac";
                        ctx.fillRect(10,18, data[country]["Recovered"]/750,15);
                        ctx.font = "10pt Times";
                        ctx.fillText(data[country]['Recovered'], data[country]["Recovered"]/750 + 20,30);
                    }
                    else if (option == "confirm"){
                        ctx.clearRect(0,0,1000,200);
                        ctx.fillStyle = "#85ded1";
                        ctx.fillRect(10,18, data[country]["Confirmed"]/3800,15);
                        ctx.font = "10pt Times";
                        ctx.fillText(data[country]['Confirmed'], data[country]["Confirmed"]/3800 + 20,30);
                    }
                    else if (option == "death1"){
                        ctx.clearRect(0,0,1000,200);
                        ctx.fillStyle = "orange";
                        ctx.fillRect(10,18, data[country]["Deaths"]/250,15);
                        ctx.font = "10pt Times";
                        ctx.fillText(data[country]['Deaths'], data[country]["Deaths"]/250 + 20,30);
                    }   
                }
                
                
            }
             
            // GEOJSON COLOR RAMP
        function getColor(d) {
           if (d > 9) {
              return '#800026'; 
           } else if (d == 5) {
              return '#FC4E2A';
           } else if (d > 0 && d < 5) {
              return '#FED976';
           } else {
              return '#FFEDA0' 
           }
        }
        
        // GEOJSON STYLE
        function style(feature) {
        return {
                fillColor: getColor(feature.properties.deaths),
                weight: 2,
                opacity: 1,
                color: 'white',
                dashArray: '3',
                fillOpacity: 0.7
            };
        }
        
   
        
         // THIS IS THE GEOJSON CODE - CLOROPLETH map
        L.geoJson(provs, {style: style, onEachFeature: function (feature, layer) {
        layer.bindPopup('<h3>Deaths</h3><h1>'+feature.properties.deaths+'</h1>');
        }}).addTo(map);
         
        
            
        var c = document.getElementById("mycanvas2");
        var ctx = c.getContext('2d');
        var y = 10;
        for (province=0; province<data.length; province++){
            if (data[province]["Country_Region"] == "Canada") {
                ctx.fillStyle = "red";
                ctx.fillRect(10,y, data[province]["Confirmed"]/38,50);
                ctx.fillStyle = "black";
                ctx.font = "10pt Times";
                ctx.fillText(data[province]['Province_State'] + " " + data[province]["Confirmed"], 560,y+28);
                var y = y+60
            
                
            }
        }
        
        
        
        
        
        
            
        
  
    

        

        
    </script>

</html>
